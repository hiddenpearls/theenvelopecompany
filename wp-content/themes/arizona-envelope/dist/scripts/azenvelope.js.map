{"version":3,"sources":["../assets/scripts/azenvelope.js"],"names":["jQuery","document","ready","$","scrollPosition","sticky","scroll","window","scrollTop","addClass","removeClass","optChange","x","is","this","val","prop","v","j","n","index","change","k","kk","text","h","hh","urlParam","name","results","RegExp","exec","location","href","add_classes","class_element","deleteclasses","getBillingFormValues","billingName","billingForm","find","billingLast","billingCompany","billingEmail","billingPhone","billingAddress1","billingAddress2","billingCity","billingState","billingStateLabel","billingZip","shippingName","attr","shippingLast","shippingCompany","shippingEmail","shippingPhone","shippingAddress1","shippingAddress2","shippingCity","shippingState","targetField","empty","append","shippingZip","setInitialShippingValues","initialShippingName","initialShippingLast","initialShippingCompany","initialShippingEmail","initialShippingPhone","initialShippingAddress1","initialShippingAddress2","initialShippingCity","initialShippingState","initialShippingZip","toggleHandler","toggle","addEventListener","e","preventDefault","classList","contains","remove","add","toggles","querySelectorAll","i","length","jump","target","hash","offset","elOffset","top","elHeight","height","windowHeight","animate","bind","setTimeout","on","hide","each","event","keyCode","wq","lastQty","optionValue","split","rawValue","replace","editLink","newUrl","after","css","browse_button","file_input","click","fname","html","substr","lastIndexOf","gform","addFilter","optionsObj","formId","fieldId","minDate","validator","messages","required","validate","rules","billing_first_name","billing_last_name","billing_email","email","billing_phone","billing_address_1","shipping_first_name","shipping_last_name","shipping_address_1","shipping_city","shipping_postcode","po_reference_number","billing_city","billing_postcode","stripe_card_number","stripe_card_expiry","stripe_card_cvc","errorClass","validClass","highlight","element","parents","unhighlight","$inputs","id","not","shippingForm","eType","type","changedInput","input","selected","selectedIndex","targetInput","form","insertBefore","slideDown","insertAfter"],"mappings":"AAAAA,OAAAC,UAAAC,MAAA,SAAAC,GA+BA,QAAAC,KACA,GAAAC,GAAAF,EAAA,gBACAG,EAAAH,EAAAI,QAAAC,WAEAF,IAAA,GACAD,EAAAI,SAAA,gBAGAJ,EAAAK,YAAA,gBAyDA,QAAAC,KACA,GAAAC,GAAAT,EAAA,kCAAAU,GAAA,YACAD,GAAAT,EAAAW,MAAAC,MACAZ,EAAA,iCAAAS,EAAA,MAAAI,KAAA,YAAA,EACA,IACAC,GAAAC,EADAC,EAAAhB,EAAA,kCAAAiB,OACAD,KACAA,EAAA,GAAAF,EAAA,EAAAC,EAAA,GACAC,EAAA,GAAAF,EAAAE,EAAAD,EAAA,IACAD,EAAA,EAAAC,EAAA,GACAf,EAAA,oBAAAY,IAAAI,GACAhB,EAAA,oBAAAkB,QACA,IAAAC,GAAA,6BAAAJ,EAEAK,EAAApB,EAAAmB,GAAAE,MAEArB,GAAA,oBAAAqB,KAAAD,EACA,IAAAE,GAAA,6BAAAP,EACAQ,EAAAvB,EAAAsB,GAAAD,MACArB,GAAA,oBAAAqB,KAAAE,GAkIA,QAAAC,GAAAC,GACA,GAAAC,GAAA,GAAAC,QAAA,OAAAF,EAAA,aAAAG,KAAAxB,OAAAyB,SAAAC,KACA,OAAA,OAAAJ,EACA,KAGAA,EAAA,IAAA,EAgDA,QAAAK,GAAAC,GACAhC,EAAAgC,GAAAzB,YAAA,yBACAP,EAAAgC,GAAA1B,SAAA,sCACAN,EAAAgC,GAAA1B,SAAA,uBAGA,QAAA2B,GAAAD,GACAhC,EAAAgC,GAAAzB,YAAA,sCACAP,EAAAgC,GAAAzB,YAAA,uBACAP,EAAAgC,GAAA1B,SAAA,yBAwLA,QAAA4B,KAGA,GAAAC,GAAAC,EAAAC,KAAA,uBAAAzB,MACA0B,EAAAF,EAAAC,KAAA,sBAAAzB,MACA2B,EAAAH,EAAAC,KAAA,oBAAAzB,MACA4B,EAAAJ,EAAAC,KAAA,kBAAAzB,MACA6B,EAAAL,EAAAC,KAAA,kBAAAzB,MACA8B,EAAAN,EAAAC,KAAA,sBAAAzB,MACA+B,EAAAP,EAAAC,KAAA,sBAAAzB,MACAgC,EAAAR,EAAAC,KAAA,iBAAAzB,MACAiC,EAAAT,EAAAC,KAAA,kBAAAzB,MAEAkC,EAAAV,EAAAC,KAAA,kCAAAhB,OACA0B,EAAAX,EAAAC,KAAA,qBAAAzB,KAGAoC,GAAAC,KAAA,QAAAd,GAAAtB,KAAA,YAAA,GACAqC,EAAAD,KAAA,QAAAX,GAAAzB,KAAA,YAAA,GACAsC,EAAAF,KAAA,QAAAV,GAAA1B,KAAA,YAAA,GACAuC,EAAAH,KAAA,QAAAT,GAAA3B,KAAA,YAAA,GACAwC,EAAAJ,KAAA,QAAAR,GAAA5B,KAAA,YAAA,GACAyC,EAAAL,KAAA,QAAAP,GAAA7B,KAAA,YAAA,GACA0C,EAAAN,KAAA,QAAAN,GAAA9B,KAAA,YAAA,GACA2C,EAAAP,KAAA,QAAAL,GAAA/B,KAAA,YAAA,GAEA4C,EAAAR,KAAA,QAAAJ,GAAAhC,KAAA,YAAA,EACA,IAAA6C,GAAA1D,EAAA,oBACA0D,GAAAC,QACAD,EAAAE,OAAAd,GACAe,EAAAZ,KAAA,QAAAF,GAAAlC,KAAA,YAAA,GAGA,QAAAiD,KAEAd,EAAAC,KAAA,QAAAc,GAAAlD,KAAA,YAAA,GACAqC,EAAAD,KAAA,QAAAe,GAAAnD,KAAA,YAAA,GACAsC,EAAAF,KAAA,QAAAgB,GAAApD,KAAA,YAAA,GACAuC,EAAAH,KAAA,QAAAiB,GAAArD,KAAA,YAAA,GACAwC,EAAAJ,KAAA,QAAAkB,GAAAtD,KAAA,YAAA,GACAyC,EAAAL,KAAA,QAAAmB,GAAAvD,KAAA,YAAA,GACA0C,EAAAN,KAAA,QAAAoB,GAAAxD,KAAA,YAAA,GACA2C,EAAAP,KAAA,QAAAqB,GAAAzD,KAAA,YAAA,GACA4C,EAAAR,KAAA,QAAAsB,GAAA1D,KAAA,YAAA,GACAgD,EAAAZ,KAAA,QAAAuB,GAAA3D,KAAA,YAAA,IAphBA,WAEA,YAEA,SAAA4D,GAAAC,GACAA,EAAAC,iBAAA,QAAA,SAAAC,GACAA,EAAAC,iBACAlE,KAAAmE,UAAAC,SAAA,gBAAA,EACApE,KAAAmE,UAAAE,OAAA,aAGArE,KAAAmE,UAAAG,IAAA,eAUA,IAAA,GAFAC,GAAApF,SAAAqF,iBAAA,gBAEAC,EAAAF,EAAAG,OAAA,EAAAD,GAAA,EAAAA,IAAA,CACA,GAAAV,GAAAQ,EAAAE,EACAX,GAAAC,OAkBAzE,IAEAD,EAAAI,QAAAD,OAAA,WACAF,KAOA,IAAAqF,GAAA,SAAAV,GACA,GAAAW,EACAX,IACAA,EAAAC,iBACAU,EAAAvF,EAAAW,MAAAsC,KAAA,SAEAsC,EAAA1D,SAAA2D,IAEA,IAGAC,GAHAC,EAAA1F,EAAAuF,GAAAE,SAAAE,IACAC,EAAA5F,EAAAuF,GAAAM,SACAC,EAAA9F,EAAAI,QAAAyF,QAIAJ,GADAG,EAAAE,EACAJ,GAAAI,EAAA,EAAAF,EAAA,GAGAF,EAGA1F,EAAA,aAAA+F,SACA1F,UAAAoF,GACA,IAAA,WACA5D,SAAA2D,KAAAD,IAOAvF,GAAA,cAAAgG,KAAA,QAAAV,GAGAzD,SAAA2D,MACAS,WAAA,WAEAX,KACA,GAyBAtF,EAAA,2CAAAa,KAAA,YAAA,GACAb,EAAA,kBAAAkG,GAAA,SAAA1F,GACAR,EAAA,mBAAAkG,GAAA,SAAA1F,GAGAR,EAAA,aAAAkG,GAAA,SAAA,WACAlG,EAAA,qBAAAmG,SAkFAnG,EAAA,0BAAAoG,KAAA,SAAAhB,GACApF,EAAAW,MAAAsC,KAAA,WAAA,KAEAjD,EAAA,kBAAAiD,KAAA,WAAA,GACAjD,EAAA,mBAAAiD,KAAA,WAAA,GAEAjD,EAAAF,UAAAoG,GAAA,WAAA,sDAAA,SAAAG,GACA,IAAAA,EAAAC,SACAD,EAAAxB,kBAMA,IAAA0B,GAAAvG,EAAA,iCACA,IAAAuG,EAAAlB,OAAA,EAAA,CACA,GAAAmB,GAAAhF,EAAA,WAEAxB,GAAA,yBAAAoG,KAAA,WACA,GAAAK,GAAAzG,EAAAW,MAAAsC,KAAA,SAAAyD,MAAA,KAEAC,EAAAF,EAAA,GAAAG,QAAA,IAAA,GACAD,IAAAH,GAEAxG,EAAA,kBAAAY,IAAAZ,EAAAW,MAAAsC,KAAA,YAKAjD,EAAA,yBAAAqF,OAAA,GACArF,EAAA,cAAAoG,KAAA,WACA,GAAAI,GAAAxG,EAAAW,MAAA0B,KAAA,0BAAAhB,OAEAwF,EAAA7G,EAAAW,MAAA0B,KAAA,mBAEAyE,EAAAD,EAAA5D,KAAA,QAAA,aAAAuD,CACAK,GAAA5D,KAAA,OAAA6D,KAeA9G,EAAA,gBAAA+G,MAAA,wEAAAA,MAAA,gFACA/G,EAAA,gBAAAgH,IAAA,UAAA,OAEA,IAAAC,GAAAjH,EAAA,kBAAA,GACAkH,EAAAlH,EAAA,gBAAA,EAyMA,IAtMA,MAAAiH,IAEAA,EAAAtC,iBAAA,QAAA,SAAAC,GACAsC,EAAAC,UAGAnH,EAAAkH,GAAAhG,OAAA,WACA,GAAAkG,GAAApH,EAAAkH,GAAAtG,KACAZ,GAAA,SAAAqH,KAAAD,EAAAE,OAAAF,EAAAG,YAAA,MAAA,OASAvH,EAAA,kBAAAqF,QACAmC,MAAAC,UAAA,oCAAA,SAAAC,EAAAC,EAAAC,GAKA,MAJA,KAAAD,GAAA,IAAAC,IACAF,EAAAG,QAAA,GAGAH,IAMA1H,EAAA,mBACAA,EAAA,wBAAAiD,KAAA,WAAA,YAkBAjD,EAAA,kBAAAqF,SACArF,EAAA,uBAAAiD,KAAA,OAAA,sBACAjD,EAAA,uBAAAiD,KAAA,OAAA,sBACAjD,EAAA,oBAAAiD,KAAA,OAAA,mBAEAjD,EAAA,gBAAAkG,GAAA,QAAA,WACA,IAAAlG,EAAA,kBAAAY,MACAmB,EAAA,wBAEAE,EAAA,wBAGAjC,EAAA,uCAAAU,GAAA,cACA,IAAAV,EAAA,mBAAAY,MACAmB,EAAA,yBAEAE,EAAA,0BAIAjC,EAAA,uCAAAU,GAAA,cACAV,EAAA,oBAAAO,YAAA,sCACAP,EAAA,oBAAAO,YAAA,uBACAP,EAAA,oBAAAO,YAAA,4BAIAP,EAAA8H,UAAAC,SAAAC,SAAA,GACAhI,EAAA,kBAAAiI,UACAC,OACAC,oBACAH,UAAA,GAEAI,mBACAJ,UAAA,GAEAK,eACAL,UAAA,EACAM,OAAA,GAEAC,eACAP,UAAA,GAEAQ,mBACAR,UAAA,GAEAS,qBACAT,SAAA,WACA,QAAAhI,EAAA,uCAAAU,GAAA,cAQAgI,oBACAV,SAAA,WACA,QAAAhI,EAAA,uCAAAU,GAAA,cAQAiI,oBACAX,SAAA,WACA,QAAAhI,EAAA,uCAAAU,GAAA,cAQAkI,eACAZ,SAAA,WACA,QAAAhI,EAAA,uCAAAU,GAAA,cAQAmI,mBACAb,SAAA,WACA,QAAAhI,EAAA,uCAAAU,GAAA,cAQAoI,qBACAd,UAAA,GAEAe,cACAf,UAAA,GAEAgB,kBACAhB,UAAA,GAEAiB,oBACAjB,UAAA,GAEAkB,oBACAlB,UAAA,GAEAmB,iBACAnB,UAAA,IAGAoB,WAAA,yDACAC,WAAA,wBACAC,UAAA,SAAAC,EAAAH,EAAAC,GACArJ,EAAAuJ,GAAAC,QAAA,cAAAlJ,SAAA8I,GAAA7I,YAAA8I,IAEAI,YAAA,SAAAF,EAAAH,EAAAC,GACArJ,EAAAuJ,GAAAC,QAAA,cAAAjJ,YAAA6I,GAAA9I,SAAA+I,MAIArJ,EAAA,6BAAA4D,OAAA,0EACA5D,EAAA,8BAAA4D,OAAA,0EACA5D,EAAA,iCAAA4D,OAAA,0EACA5D,EAAA,+BAAA4D,OAAA,0EACA5D,EAAA,+BAAA4D,OAAA,0EACA5D,EAAA,mCAAA4D,OAAA,2EAKA5D,EAAA,+BAAAqF,QACArF,EAAA,6BAAAgH,IAAA,UAAA,QAIAhH,EAAA,oCAAAmH,MAAA,WACA,GAAAuC,GAAA1J,EAAA,mCACA,IAAAA,EAAAW,MAAAE,KAAA,WAAA,CACA,GAAA8I,GAAA3J,EAAA0J,EAAAE,IAAAjJ,OAAAE,KAAA,KACAb,GAAA,IAAA2J,GAAA9I,KAAA,WAAA,MAMAb,EAAA,kBAAAqF,OAAA,CAEA,GAAAjD,GAAApC,EAAA,+BACA6J,EAAA7J,EAAA,0BAGA+D,EAAA8F,EAAAxH,KAAA,wBAAAzB,MACAoD,EAAA6F,EAAAxH,KAAA,uBAAAzB,MACAqD,EAAA4F,EAAAxH,KAAA,qBAAAzB,MACAsD,EAAA2F,EAAAxH,KAAA,mBAAAzB,MACAuD,EAAA0F,EAAAxH,KAAA,mBAAAzB,MACAwD,EAAAyF,EAAAxH,KAAA,uBAAAzB,MACAyD,EAAAwF,EAAAxH,KAAA,uBAAAzB,MACA0D,EAAAuF,EAAAxH,KAAA,kBAAAzB,MACA2D,EAAAsF,EAAAxH,KAAA,mBAAAzB,MACA4D,EAAAqF,EAAAxH,KAAA,sBAAAzB,MAGAoC,EAAA6G,EAAAxH,KAAA,wBACAa,EAAA2G,EAAAxH,KAAA,uBACAc,EAAA0G,EAAAxH,KAAA,qBACAe,EAAAyG,EAAAxH,KAAA,mBACAgB,EAAAwG,EAAAxH,KAAA,mBACAiB,EAAAuG,EAAAxH,KAAA,uBACAkB,EAAAsG,EAAAxH,KAAA,uBACAmB,EAAAqG,EAAAxH,KAAA,kBACAoB,EAAAoG,EAAAxH,KAAA,mBACAwB,EAAAgG,EAAAxH,KAAA,qBAsDArC,GAAA,qDAAAkB,OAAA,SAAA0D,GAEA,GAAA2E,GAAA3E,EAAAW,OAEAuE,EAAAlF,EAAAW,OAAAwE,KAEAC,EAAApF,EAAAW,OAAAoE,EAEAK,GAAAhK,EAAA,IAAAgK,GAAA/G,KAAA,KAEA,IAAAgH,GAAAjK,EAAA,IAAAgK,GAAApJ,KACA,IAAA,eAAAkJ,EAAA,CACA,GAAAI,GAAAX,EAAAA,EAAAY,eAAA9I,IAEA,IAAArB,EAAA,kCAAAqF,QAAA,EAAA,CACA,GAAA+E,GAAApK,EAAA,kCAAAqC,KAAA,uBACA+H,GAAAA,EAAA/H,KAAA,qBACA+H,EAAAzG,QACAyG,EAAAxG,OAAAsG,QAKA,IADAF,EAAAA,EAAApD,QAAA,UAAA,YACA5G,EAAA,kCAAAqF,QAAA,EAAA,CACA,GAAA+E,GAAApK,EAAA,kCAAAqC,KAAA,IAAA2H,EACAI,GAAAnH,KAAA,QAAAgH,MAMAjK,EAAA,iCAAAmH,MAAA,WAEA,GAAAkD,GAAArK,EAAA,6BAEA0J,EAAA1J,EAAA,gCAEA,IAAAA,EAAAW,MAAAE,KAAA,WAAA,CAEA,GAAA8I,GAAA3J,EAAA0J,EAAAE,IAAAjJ,OAAAE,KAAA,KACAb,GAAA,IAAA2J,GAAA9I,KAAA,WAAA,GACA,uCAAA8I,GAIAU,EAAAlE,OACAkE,EAAAC,aAAA,8BACAD,EAAA/J,SAAA,gBACA4B,IACAmI,EAAAE,aACA,kCAAAZ,IAEAU,EAAAlE,OACAkE,EAAAG,YAAA,8BACA1G,IACAuG,EAAA9J,YAAA,qBAGA8J,GAAAlE","file":"azenvelope.js","sourcesContent":["jQuery(document).ready(function ($) {\n\n    //create animation for the mobile hamburger menu icon\n    (function () {\n\n        \"use strict\";\n\n        function toggleHandler(toggle) {\n            toggle.addEventListener(\"click\", function (e) {\n                e.preventDefault();\n                if (this.classList.contains(\"is-active\") === true) {\n                    this.classList.remove(\"is-active\");\n                    //$('body').removeClass(\"noscroll\");\n                } else {\n                    this.classList.add(\"is-active\");\n\n                    //$('body').addClass(\"noscroll\");\n\n                }\n            });\n        }\n\n        var toggles = document.querySelectorAll(\".c-hamburger\");\n\n        for (var i = toggles.length - 1; i >= 0; i--) {\n            var toggle = toggles[i];\n            toggleHandler(toggle);\n        }\n\n    })();\n\n    function scrollPosition() {\n        var sticky = $('.site-header');\n        var scroll = $(window).scrollTop();\n\n        if (scroll >= 20) {\n            sticky.addClass('fixed-header');\n        }\n        else {\n            sticky.removeClass('fixed-header');\n        }\n    }\n\n\n    scrollPosition();\n\n    $(window).scroll(function () {\n        scrollPosition();\n    });\n\n    //$('html, body').hide();\n\n    // ----------- \n    // Called when a user clicks on an achor \n    var jump = function (e) {\n        var target;\n        if (e) {\n            e.preventDefault();\n            target = $(this).attr(\"href\");\n        } else {\n            target = location.hash;\n        }\n        var elOffset = $(target).offset().top;\n        var elHeight = $(target).height();\n        var windowHeight = $(window).height();\n        var offset;\n\n        if (elHeight < windowHeight) {\n            offset = elOffset - ((windowHeight / 2) - (elHeight / 2));\n        }\n        else {\n            offset = elOffset;\n        }\n\n        $('html,body').animate({\n            scrollTop: offset\n        }, 2000, function () {\n            location.hash = target;\n        });\n\n    };\n\n    // ------------------\n\n    $('a[href^=#]').bind(\"click\", jump);\n    //--------\n    // When the page loads, check if there is a # in the URL. \n    if (location.hash) {\n        setTimeout(function () {\n            //$('html, body').scrollTop(0).show();\n            jump();\n        }, 0);\n    } else {\n        //$('html, body').show();\n    }\n\n    function optChange() {\n        var x = $(\"#yahm-quantity option:selected\").is(':selected');\n        x = ($(this).val());\n        $('#tm-epo-field-1 option[value=\"' + x + '\"]').prop('selected', true);\n        var n = $(\"#yahm-quantity option:selected\").index();\n        var v; var j; n++;\n        if (n < 2) { v = 1; j = 1; }\n        else if (n > 1) { v = n; j = 0; }\n        else { v = 2; j = 0; }\n        $(\"input#quantityGo\").val(n);\n        $(\"input#quantityGo\").change();\n        var k = '#yahm-tm-price-tmcp_radio_' + j;\n        //alert(k);\n        var kk = $(k).text(); // \n        //alert(kk); \n        $('#yahm-unit-price').text(kk);\n        var h = '#yahm-tm-label-tmcp_radio_' + j;\n        var hh = $(h).text();\n        $('#yahm-unit-label').text(hh);\n    }\n    $('#tm-epo-field-1 option[value=\"1,000_1\"]').prop('selected', true);\n    $(\"#yahm-quantity\").on(\"change\", optChange);\n    $(\"#tm-epo-field-1\").on(\"change\", optChange);\n\n\n    $('#gform_10').on(\"submit\", function () {\n        $('.contact-form > p').hide();\n    });\n\n    //set active nav state when viewing single posts\n\t/*if (window.location.href.indexOf('news') > -1) {\n    \t$('#menu-site-navigation li a').each(function(){\n    \t\t//console.log($(this));\n\t\t\tif($(this).attr('href').indexOf('about-us') > -1){\n\t\t\t\t$(this).parent('.menu-item').addClass('current-page-ancestor');\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t}\n\t//set active nav state when on product pages\n\tif (window.location.href.indexOf('product-category') > -1 || window.location.href.indexOf('products') > -1 ) {\n    \t$('#menu-site-navigation li a').each(function(){\n    \t\t//console.log($(this));\n\t\t\tif($(this).attr('href').indexOf('product-category') > -1){\n\t\t\t\t$(this).parent('.menu-item').addClass('current-page-ancestor');\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t\n\t}\n\t//set active on products category nav when on single product page.\n\tif ( window.location.href.indexOf('shop') > -1 ){\n\t\t$('#menu-shop-navigation li a').each(function(){\n\t\t\tif($(this).attr('href').indexOf('product-category') > -1){\n\t\t\t\t//console.log($(this).attr('href'));\n\t\t\t\tvar menuItem = $(this);\n\t\t\t\tvar selectedCategory = $(this).attr('href').split(\"product-category/\").pop();\n\t\t\t\tselectedCategory = selectedCategory.replace(\"/\", \"\");\n\t\t\t\t//console.log(selectedCategory);\n\t\t\t\tvar selectedProduct = window.location.href;\n\t\t\t\t//console.log(selectedProduct);\n\t\t\t\tif( selectedProduct.indexOf(selectedCategory) >= 0){\n\t\t\t\t\t//console.log(menuItem.parent());\n\t\t\t\t\tmenuItem.parent('.menu-item').addClass(\"current-page-ancestor\");\n\t\t\t\t\t//$(this).parent('menu-item').addClass(\"current-page-ancestor\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t//my account\n\tif (window.location.href.indexOf('my-account') > -1) {\n    \t$('#menu-top-navigation li a').each(function(){\n    \t\t//console.log($(this));\n\t\t\tif($(this).attr('href').indexOf('my-account') > -1){\n\t\t\t\t$(this).parent('.menu-item').addClass('current-page-ancestor');\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t}\n\t//resources\n\tif (window.location.href.indexOf('resources') > -1) {\n    \t$('#menu-site-navigation li a').each(function(){\n    \t\t//console.log($(this));\n\t\t\tif($(this).attr('href').indexOf('resources') > -1){\n\t\t\t\t$(this).parent('.menu-item').addClass('current-page-ancestor');\n\t\t\t}\n\t\t});\n\t}\n\t//company\n\tif (window.location.href.indexOf('company') > -1) {\n    \t$('#menu-site-navigation li a').each(function(){\n    \t\t//console.log($(this));\n\t\t\tif($(this).attr('href').indexOf('company') > -1){\n\t\t\t\t$(this).parent('.menu-item').addClass('current-page-ancestor');\n\t\t\t}\n\t\t});\n\t}\n\t//set active nav state when viewing single orders\n\tif (window.location.href.indexOf('view-order') > -1) {\n    \t$('.woocommerce-MyAccount-navigation .orange-navigation-bar li a').each(function(){\n    \t\t//console.log($(this));\n    \t\tconsole.log($(this));\n    \t\tif($(this).attr('href').indexOf('orders') > -1){\n\t\t\t\t$(this).parent('.woocommerce-MyAccount-navigation-link').addClass(\"current-page-ancestor\");\n\t\t\t}\n\t\t});\n\t}*/\n\n    $(\".tc-label.tm-epo-style\").each(function (i) {\n        $(this).attr(\"tabindex\", 0);\n    });\n    $(\"#yahm-quantity\").attr(\"tabindex\", 0);\n    $('input, textarea').attr(\"tabindex\", 0);\n\n    $(document).on(\"keypress\", \":input:not(textarea):not([type=submit]):not(select)\", function (event) {\n        if (event.keyCode == 13) {\n            event.preventDefault();\n        }\n    });\n\n\n    //run this function only if in single product page\n    var wq = $(\"input[name='tc_cart_edit_key']\");\n    if (wq.length > 0) {\n        var lastQty = urlParam('last_qty');\n        //console.log( lastQty );\n        $(\"#yahm-quantity option\").each(function () {\n            var optionValue = $(this).attr(\"value\").split(\"_\");\n            //console.log(optionValue);\n            var rawValue = optionValue[0].replace(\",\", \"\");\n            if (rawValue == lastQty) {\n                //console.log('I got here');\n                $('#yahm-quantity').val($(this).attr(\"value\"));\n            }\n        })\n    }\n\n    if ($(\".tm-cart-edit-options\").length > 0) {\n        $(\".cart_item\").each(function () {\n            var lastQty = $(this).find('.product-quantity span').text();\n            //console.log(lastQty);\n            var editLink = $(this).find('.product-edit a');\n            //console.log(editLink);\n            var newUrl = editLink.attr('href') + '&last_qty=' + lastQty;\n            editLink.attr('href', newUrl);\n            //console.log(editLink.attr(\"href\"));\n        })\n    }\n    function urlParam(name) {\n        var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\n        if (results == null) {\n            return null;\n        }\n        else {\n            return results[1] || 0;\n        }\n    }\n\n\n    $('.tmcp-upload').after('<div class=\"filename\"><span class=\"file\">No file chosen</span></div>').after('<button type=\"button\" id=\"browse-button\" class=\"button\">Choose file</button>');\n    $('.tmcp-upload').css('display', 'none');\n\n    var browse_button = $('#browse-button')[0];\n    var file_input = $('.tmcp-upload')[0];\n\n    // Handler to trigger click on file input\n    if (browse_button != null) {\n\n        browse_button.addEventListener('click', function (e) {\n            file_input.click();\n        });\n\n        $(file_input).change(function () {\n            var fname = $(file_input).val();\n            $('.file').html(fname.substr(fname.lastIndexOf('\\\\') + 1));\n        });\n    }\n\n    //$(\".woocommerce-checkout p.form-row\").addClass(\"validate-required\"); \n\t/** Filter the datepicker of Gravity Forms - Only allow future dates.\n * Dcumentation: https://www.gravityhelp.com/documentation/article/gform_datepicker_options_pre_init/\n **/\n\n    if ($('.gform_wrapper').length) { // check if a Gravity Form is present on the page\n        gform.addFilter('gform_datepicker_options_pre_init', function (optionsObj, formId, fieldId) {\n            if (formId == 12 && fieldId == 51) {\n                optionsObj.minDate = 0;\n            }\n\n            return optionsObj;\n        });\n    }\n\n    /* Make GF inputs readonly if a gf_readonly class is present */\n\n    if ($(\"li.gf_readonly\")) {\n        $(\"li.gf_readonly input\").attr(\"readonly\", \"readonly\");\n    }\n\n\n    /* Checkout form validation */\n\n    function add_classes(class_element) {\n        $(class_element).removeClass('woocommerce-validated');\n        $(class_element).addClass('woocommerce-invalid-required-field');\n        $(class_element).addClass('woocommerce-invalid');\n    }\n\n    function deleteclasses(class_element) {\n        $(class_element).removeClass('woocommerce-invalid-required-field');\n        $(class_element).removeClass('woocommerce-invalid');\n        $(class_element).addClass('woocommerce-validated');\n    }\n\n    if ($('#checkout-form').length) {\n        $('#stripe-card-number').attr('name', 'stripe_card_number');\n        $('#stripe-card-expiry').attr('name', 'stripe_card_expiry');\n        $('#stripe-card-cvc').attr('name', 'stripe_card_cvc');\n\n        $('#place_order').on('click', function () {\n            if ($('#billing_state').val() == '') {\n                add_classes('#billing_state_field');\n            } else {\n                deleteclasses('#billing_state_field');\n            }\n\n            if ($('#ship-to-different-address-checkbox').is(\":checked\")) {\n                if ($('#shipping_state').val() == '') {\n                    add_classes('#shipping_state_field');\n                } else {\n                    deleteclasses('#shipping_state_field');\n                }\n            }\n\n            if (!$('#ship-to-different-address-checkbox').is(\":checked\")) {\n                $('#checkout-form p').removeClass('woocommerce-invalid-required-field');\n                $('#checkout-form p').removeClass('woocommerce-invalid');\n                $('#checkout-form p').removeClass('woocommerce-validated');\n            }\n        });\n\n        $.validator.messages.required = '';\n        $('#checkout-form').validate({\n            rules: {\n                billing_first_name: {\n                    required: true,\n                },\n                billing_last_name: {\n                    required: true,\n                },\n                billing_email: {\n                    required: true,\n                    email: true\n                },\n                billing_phone: {\n                    required: true,\n                },\n                billing_address_1: {\n                    required: true,\n                },\n                shipping_first_name: {\n                    required: function () {\n                        if ($('#ship-to-different-address-checkbox').is(\":checked\")) {\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    }\n                },\n                shipping_last_name: {\n                    required: function () {\n                        if ($('#ship-to-different-address-checkbox').is(\":checked\")) {\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    }\n                },\n                shipping_address_1: {\n                    required: function () {\n                        if ($('#ship-to-different-address-checkbox').is(\":checked\")) {\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    }\n                },\n                shipping_city: {\n                    required: function () {\n                        if ($('#ship-to-different-address-checkbox').is(\":checked\")) {\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    }\n                },\n                shipping_postcode: {\n                    required: function () {\n                        if ($('#ship-to-different-address-checkbox').is(\":checked\")) {\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    }\n                },\n                po_reference_number: {\n                    required: true,\n                },\n                billing_city: {\n                    required: true,\n                },\n                billing_postcode: {\n                    required: true,\n                },\n                stripe_card_number: {\n                    required: true,\n                },\n                stripe_card_expiry: {\n                    required: true,\n                },\n                stripe_card_cvc: {\n                    required: true,\n                },\n            },\n            errorClass: 'woocommerce-invalid-required-field woocommerce-invalid',\n            validClass: 'woocommerce-validated',\n            highlight: function (element, errorClass, validClass) {\n                $(element).parents('p.form-row').addClass(errorClass).removeClass(validClass);\n            },\n            unhighlight: function (element, errorClass, validClass) {\n                $(element).parents('p.form-row').removeClass(errorClass).addClass(validClass);\n            }\n        });\n\n        $('#billing_city_field label').append(' <abbr class=\"required\" title=\"required\" aria-required=\"true\">*</abbr>');\n        $('#billing_state_field label').append(' <abbr class=\"required\" title=\"required\" aria-required=\"true\">*</abbr>');\n        $('#billing_postcode_field label').append(' <abbr class=\"required\" title=\"required\" aria-required=\"true\">*</abbr>');\n        $('#shipping_state_field label').append(' <abbr class=\"required\" title=\"required\" aria-required=\"true\">*</abbr>');\n        $('#shipping_city_field  label').append(' <abbr class=\"required\" title=\"required\" aria-required=\"true\">*</abbr>');\n        $('#shipping_postcode_field  label').append(' <abbr class=\"required\" title=\"required\" aria-required=\"true\">*</abbr>');\n\n    }\n\n    //\n    if ($('.gform_confirmation_wrapper').length) {\n        $('.online-quote-description').css('display', 'none');\n    }\n\n    //Disable front/back color checkbox if counter part is enabled.\n    $('.printing_options input:checkbox').click(function () {\n        var $inputs = $('.printing_options input:checkbox');\n        if ($(this).prop('checked')) {  // <-- check if clicked box is currently checked\n            var id = $($inputs.not(this)).prop(\"id\");\n            $(\"#\" + id).prop(\"checked\", false); // <-- uncheck all but checked checkbox\n        }\n    });\n\n    \n    // Checkout\n    if ($('#checkout-form').length) {\n        // Shipping form fields to be used to reassign the original values\n        var billingForm = $('.woocommerce-billing-fields');\n        var shippingForm = $('.shipping_address.form');\n\n\n        var initialShippingName = shippingForm.find('#shipping_first_name').val();\n        var initialShippingLast = shippingForm.find('#shipping_last_name').val();\n        var initialShippingCompany = shippingForm.find('#shipping_company').val();\n        var initialShippingEmail = shippingForm.find('#shipping_email').val();\n        var initialShippingPhone = shippingForm.find('#shipping_phone').val();\n        var initialShippingAddress1 = shippingForm.find('#shipping_address_1').val();\n        var initialShippingAddress2 = shippingForm.find('#shipping_address_2').val();\n        var initialShippingCity = shippingForm.find('#shipping_city').val();\n        var initialShippingState = shippingForm.find('#shipping_state').val();\n        var initialShippingZip = shippingForm.find('#shipping_postcode').val();\n        \n\n        var shippingName = shippingForm.find('#shipping_first_name');\n        var shippingLast = shippingForm.find('#shipping_last_name');\n        var shippingCompany = shippingForm.find('#shipping_company');\n        var shippingEmail = shippingForm.find('#shipping_email');\n        var shippingPhone = shippingForm.find('#shipping_phone');\n        var shippingAddress1 = shippingForm.find('#shipping_address_1');\n        var shippingAddress2 = shippingForm.find('#shipping_address_2');\n        var shippingCity = shippingForm.find('#shipping_city');\n        var shippingState = shippingForm.find('#shipping_state');\n        var shippingZip = shippingForm.find('#shipping_postcode');\n\n\n        // Store form field values on load\n        function getBillingFormValues() {\n            // Billing form values\n\n            var billingName = billingForm.find('#billing_first_name').val();\n            var billingLast = billingForm.find('#billing_last_name').val();\n            var billingCompany = billingForm.find('#billing_company').val();\n            var billingEmail = billingForm.find('#billing_email').val();\n            var billingPhone = billingForm.find('#billing_phone').val();\n            var billingAddress1 = billingForm.find('#billing_address_1').val();\n            var billingAddress2 = billingForm.find('#billing_address_2').val();\n            var billingCity = billingForm.find('#billing_city').val();\n            var billingState = billingForm.find('#billing_state').val();\n            // since the shipping form select is replaced with a div we need to do some magic here\n            var billingStateLabel = billingForm.find('#billing_state option:selected').text();\n            var billingZip = billingForm.find('#billing_postcode').val();\n\n            // auto populate fields here with the values from the billing form and disable fields\n            shippingName.attr(\"value\", billingName).prop(\"disabled\", true);\n            shippingLast.attr(\"value\", billingLast).prop(\"disabled\", true);\n            shippingCompany.attr(\"value\", billingCompany).prop(\"disabled\", true);\n            shippingEmail.attr(\"value\", billingEmail).prop(\"disabled\", true);\n            shippingPhone.attr(\"value\", billingPhone).prop(\"disabled\", true);\n            shippingAddress1.attr(\"value\", billingAddress1).prop(\"disabled\", true);\n            shippingAddress2.attr(\"value\", billingAddress2).prop(\"disabled\", true);\n            shippingCity.attr(\"value\", billingCity).prop(\"disabled\", true);\n            // since the shipping form select is replaced with a div we need to do some magic here\n            shippingState.attr(\"value\", billingState).prop(\"disabled\", true);\n            var targetField = $(\"#select2-chosen-2\");\n            targetField.empty();\n            targetField.append(billingStateLabel);\n            shippingZip.attr(\"value\", billingZip).prop(\"disabled\", true);\n        }\n\n        function setInitialShippingValues() {\n            // Initial Shipping form values stored to re-populate the field values with them in case user checks both options before completing order\n            shippingName.attr(\"value\", initialShippingName).prop(\"disabled\", false);\n            shippingLast.attr(\"value\", initialShippingLast).prop(\"disabled\", false);\n            shippingCompany.attr(\"value\", initialShippingCompany).prop(\"disabled\", false);\n            shippingEmail.attr(\"value\", initialShippingEmail).prop(\"disabled\", false);\n            shippingPhone.attr(\"value\", initialShippingPhone).prop(\"disabled\", false);\n            shippingAddress1.attr(\"value\", initialShippingAddress1).prop(\"disabled\", false);\n            shippingAddress2.attr(\"value\", initialShippingAddress2).prop(\"disabled\", false);\n            shippingCity.attr(\"value\", initialShippingCity).prop(\"disabled\", false);\n            shippingState.attr(\"value\", initialShippingState).prop(\"disabled\", false);\n            shippingZip.attr(\"value\", initialShippingZip).prop(\"disabled\", false);\n        }\n\n\n\n        // Update \"ship to same address\" form when billing form is changed\n        $('#checkout-form .woocommerce-billing-fields :input').change(function (e) {\n            // Get DOM element that trigered the event\n            var element = e.target;\n            // get element type\n            var eType = e.target.type;\n            // get element ID\n            var changedInput = e.target.id;\n            // Get the ID of the input field that changed\n            changedInput = $(\"#\" + changedInput).attr(\"id\");\n            // get the new value of the changed field\n            var input = $(\"#\" + changedInput).val();\n            if ( eType === 'select-one' ){\n                var selected = element[element.selectedIndex].text;\n                \n                if ($(\".same-address.shipping_address\").length >= 1) {\n                    var targetInput = $(\".same-address.shipping_address\").find(\"#s2id_shipping_state\");\n                    targetInput = targetInput.find(\"#select2-chosen-2\");\n                    targetInput.empty();\n                    targetInput.append(selected);\n                }\n            } else {\n                // replace billing for shipping here, to update shipping form\n                changedInput = changedInput.replace(\"billing\", \"shipping\");\n                if ($(\".same-address.shipping_address\").length >= 1) {\n                    var targetInput = $(\".same-address.shipping_address\").find(\"#\" + changedInput);\n                    targetInput.attr(\"value\", input);\n                }\n            }\n        });\n\n        // When a checkbox is clicked on\n        $('.input-checkbox.checkout-ship').click(function () {\n            // Store form div container in a var for cache\n            var form = $('div.shipping_address.form');\n            // Store checkboxes in a variable for cache and ease of use\n            var $inputs = $('.input-checkbox.checkout-ship');\n            // validate if any of the fields are checked before continue'ing, if not checked only hide all forms\n            if ($(this).prop('checked')) {  // <-- check if clicked box is currently checked\n                // Uncheck all other checkboxes\n                var id = $($inputs.not(this)).prop(\"id\");\n                $(\"#\" + id).prop(\"checked\", false); // <-- uncheck all but checked checkbox\n                if (id === 'ship-to-different-address-checkbox') {\n                    // Same as billing address option (inversed)\n                    // move the form in the DOM to be below the checked field\n                    // hide the form for the unchecked option, show the checked one.\n                    form.hide();\n                    form.insertBefore(\".ship-to-different-address\");\n                    form.addClass(\"same-address\");\n                    getBillingFormValues();\n                    form.slideDown();\n                } else if (id === 'ship-to-same-address-checkbox') {\n                    // Same as shipping address option (inversed)\n                    form.hide();\n                    form.insertAfter(\".ship-to-different-address\");\n                    setInitialShippingValues();\n                    form.removeClass(\"same-address\");\n                }\n            } else {\n                form.hide();\n            }\n        });\n    }\n    \n});"],"sourceRoot":"assets/scripts/"}